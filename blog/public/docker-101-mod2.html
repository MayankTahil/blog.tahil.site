<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>introduction to docker files | Tech Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  <meta name="keywords" content="dockerdocker-clidocker imagesdocker 101dockerfilestoragevolume mount" />
  
  
  
  
  <meta name="description" content="Module 0 Module 1 Module 2 Module 3     Module 2: Create an Image via Dockerfiles Given that all Docker containers are based off specific Docker images, in this module we will explore one of many w">
<meta name="keywords" content="docker,docker-cli,docker images,docker 101,dockerfile,storage,volume mount">
<meta property="og:type" content="article">
<meta property="og:title" content="Introduction to Docker Files">
<meta property="og:url" content="http://blog.tahil.site/docker-101-mod2/index.html">
<meta property="og:site_name" content="Tech Blog">
<meta property="og:description" content="Module 0 Module 1 Module 2 Module 3     Module 2: Create an Image via Dockerfiles Given that all Docker containers are based off specific Docker images, in this module we will explore one of many w">
<meta property="og:locale" content="en">
<meta property="og:image" content="http://blog.tahil.site/docker-101-mod2/docker-build.gif">
<meta property="og:image" content="http://blog.tahil.site/docker-101-mod2/cpx-blog-1-footer.png">
<meta property="og:image" content="http://blog.tahil.site/docker-101-mod2/cpx-blog-2-footer.png">
<meta property="og:image" content="http://blog.tahil.site/docker-101-mod2/docker-run-new.gif">
<meta property="og:updated_time" content="2017-12-15T07:42:15.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Introduction to Docker Files">
<meta name="twitter:description" content="Module 0 Module 1 Module 2 Module 3     Module 2: Create an Image via Dockerfiles Given that all Docker containers are based off specific Docker images, in this module we will explore one of many w">
<meta name="twitter:image" content="http://blog.tahil.site/docker-101-mod2/docker-build.gif">
  
    <link rel="alternate" href="atom.xml" title="Tech Blog" type="application/atom+xml">
  
  

  <link rel="icon" href="css/images/mylogo-icon.png">
  <link rel="apple-touch-icon" href="css/images/mylogo-icon.png">
  
    <link href="http://fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link href="https://fonts.googleapis.com/css?family=Open+Sans|Montserrat:700" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,300,300italic,400italic" rel="stylesheet" type="text/css">
  <link href="http://cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">
  <style type="text/css">
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/9749f0/00000000000000000001008f/27/l?subset_id=2&fvd=n5) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/90cf9f/000000000000000000010091/27/l?subset_id=2&fvd=n7) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/8a5494/000000000000000000013365/27/l?subset_id=2&fvd=n4) format("woff2");font-weight:lighter;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/d337d8/000000000000000000010095/27/l?subset_id=2&fvd=i4) format("woff2");font-weight:400;font-style:italic;}</style>
  <link rel="stylesheet" href="css/style.css">

  <script src="js/jquery-3.1.1.min.js"></script>
  <script src="js/bootstrap.js"></script>

  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="css/bootstrap.css" >

  
    <link rel="stylesheet" href="css/dialog.css">
  

  

  
    <link rel="stylesheet" href="css/header-post.css" >
  

  
  
  

</head>



  <body data-spy="scroll" data-target="#toc" data-offset="50">


  
  <div id="container">
    <div id="wrap">
      
        <header>

    <div id="allheader" class="navbar navbar-default navbar-static-top" role="navigation">
        <div class="navbar-inner">
          
          <div class="container"> 
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>

            
              <a class="brand" style="
                 border-width: 0px;  margin-top: 0px;"  
                href="docker-101-mod2.html#" data-toggle="modal" data-target="#myModal" >
                  <img width="220px" height="87px" alt="blog.tahil.site" src="css/images/mylogo.png">
              </a>
            
            
            <div class="navbar-collapse collapse">
              <ul class="hnav navbar-nav">
                
                  <li> <a class="main-nav-link" href="index.html">Home</a> </li>
                
                  <li> <a class="main-nav-link" href="archives.html">Archives</a> </li>
                
                  <li> <a class="main-nav-link" href="categories/tutorials.html">Categories</a> </li>
                
                  <li> <a class="main-nav-link" href="about.html">About</a> </li>
                
                  <li><div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="Type something..." />
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '../content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="js/insight.js"></script>

</div></li>
            </div>
          </div>
                
      </div>
    </div>

</header>



      
            
      <div id="content" class="outer">
        
          <section id="main" style="float:none;">
    <article id="post-docker-101-mod2" style="width: 75%; float:left;" class="article article-type-post" itemscope itemprop="blogPost" >
      <div id="articleInner" class="article-inner">
        
        
          <header class="article-header">
            
  
    <h1 class="thumb" class="article-title" itemprop="name">
      Introduction to Docker Files
    </h1>
  

          </header>
        
        <div class="article-meta">
          
	<a href="docker-101-mod2.html" class="article-date">
	  <time datetime="2017-12-15T01:28:29.000Z" itemprop="datePublished">12-14-2017</time>
	</a>

          
    <a class="article-category-link" href="categories/tutorials.html">tutorials</a>

          
        </div>
        <div class="article-entry" itemprop="articleBody">
          
            <table>
<thead>
<tr>
<th style="text-align:center"><a href="https://docs.docker.com/engine/installation/" target="_blank" rel="noopener">Module 0</a></th>
<th style="text-align:center"><a href="docker-101-mod1.html">Module 1</a></th>
<th style="text-align:center"><a href="docker-101-mod2.html">Module 2</a></th>
<th style="text-align:center"><a href="docker-101-mod3.html">Module 3</a></th>
</tr>
</thead>
<tbody></tbody>
</table>
<h1>Module 2: Create an Image via Dockerfiles</h1>
<p>Given that all Docker containers are based off specific <a href="https://docs.docker.com/engine/userguide/storagedriver/imagesandcontainers/" target="_blank" rel="noopener">Docker images</a>, in this module we will explore one of many ways to create Docker Images that define your custom docker containers. The following list a few ways to create customer images docker images:</p>
<ol>
<li>
<p><a href="https://docs.docker.com/engine/reference/commandline/save/" target="_blank" rel="noopener">Save a running container into an image</a></p>
<ul>
<li>In this method, users initially run a docker container based on a desired base image. Then after changes are made by <code>docker exec -it</code> or other means on the running container, the live container is ultimately saved into a <code>.tar</code> archive in its desired state that can be later <a href="https://docs.docker.com/engine/reference/commandline/load/" target="_blank" rel="noopener">loaded</a> to run multiple new instances of the custom image.</li>
</ul>
</li>
</ol>
<a id="more"></a> 
<ol start="2">
<li>
<p>Defining a <a href="https://www.digitalocean.com/community/tutorials/docker-explained-using-dockerfiles-to-automate-building-of-images" target="_blank" rel="noopener">Dockerfile</a></p>
<ul>
<li>This method is the most robust and more commonly use method to define and create docker images. A Dockerfile is essentially a recipe of commands to execute on a defined base image that constitute the desired state of a custom docker image. Consider the traditional workflow to configure a webserver which requires executing of scripts, updating local packages, pulling of code from various repositories, installing dependencies, etc. before the webserver is in its desired state. A Dockerfile can define those steps towards a desired state thus allowing changes to be made independently on external packages, code repositories, etc. and the Dockerfile will simply execute those commands and operations when you desire to build your custom container image.</li>
</ul>
</li>
</ol>
<h2>Dockerfiles</h2>
<p>The advantage of a Dockerfile over just storing the binary image (or a snapshot/template in other virtualization systems) is that the automatic builds will ensure you have the latest version of code, packages, and external resources available in your docker container. This is a good thing from a security perspective, as you want to ensure you’re not installing any vulnerable software. This is also a good thing from an operational perspective because it allows you to rapidly build out isolated environments based on defined recipe that can pull from external resources like git to compile and build microservices.</p>
<p>Below is an example of a simple <a href="http://localhost/_code/docker-101/Dockerfile" download="Dockerfile">Dockerfile</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">FROM fnichol/uhttpd</span><br><span class="line">MAINTAINER Mayank Tahilramani and Brian Tannous</span><br><span class="line">COPY ./cpx-blog /www</span><br><span class="line">EXPOSE 80</span><br><span class="line">ENTRYPOINT /usr/sbin/run_uhttpd -f -p 80 -h /www</span><br><span class="line">CMD [&quot;&quot;]</span><br></pre></td></tr></table></figure>
<p>Breakdown of details below:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">FROM fnichol/uhttpd</span><br></pre></td></tr></table></figure>
<p>This denotes the base image to use. In this case, it’s an image from Docker Hub of user <a href="https://github.com/fnichol/docker-uhttpd" target="_blank" rel="noopener"><code>fnichol</code></a> who has already made a bare bone minimalistic docker image with the service <a href="https://httpd.apache.org/docs/2.4/programs/httpd.html" target="_blank" rel="noopener">httpd</a> pre-installed which allows us to hosts websites. All we have to do is provide our HTML code and relevant data. From this image, we will make changes and define our custom image based on subsequent commands in our Dockerfile.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MAINTAINER Mayank Tahilramani and Brian Tannous</span><br></pre></td></tr></table></figure>
<p>This is just meta data for the image on who the maintainer/creator of the image and Dockerfile are.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">COPY ./cpx-blog /www</span><br></pre></td></tr></table></figure>
<p>This command simply copies everything <code>cpx-blog</code> directory that is local to the Dockerfile into the <code>/www</code> directory that is local to the container. Within the container there must already be a <code>/www</code> directory (as specified by the <a href="https://github.com/fnichol/docker-uhttpd" target="_blank" rel="noopener">base image</a> to put content in. In this case, any html code or data that will be served by httpd must reside in the <code>/www</code> directory within the container.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">EXPOSE 80</span><br></pre></td></tr></table></figure>
<p>This command simply states that port 80 will be open on the container as expected to host a website.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ENTRYPOINT /usr/sbin/run_uhttpd -f -p 80 -h /www</span><br></pre></td></tr></table></figure>
<p>This command dictates what to execute when the container starts. Note that the container’s lifespan is directly dependent on the service it runs on start, in our case the httpd (found at <code>/usr/sbin/run_uhttpd</code>) is executed. The entrypoint script basically starts the webservice <code>httpd</code> hosting content in <code>/www</code>. If for whatever reason the uhttpd service itself fails, hangs, or stops, the running container will stop running as well.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CMD [&quot;&quot;]</span><br></pre></td></tr></table></figure>
<p>This command is similar to <code>ENTRYPOINT</code> where traditionally you would define the default command to execute when the container starts. In this case, our ENTRYPOINT script is handling that for us so CMD can be left empty.</p>
<ul>
<li><code>CMD</code> is a mandatory declaration in a Dockerfile.</li>
<li>Check out this resource to learn more about difference in use cases between <a href="https://www.ctl.io/developers/blog/post/dockerfile-entrypoint-vs-cmd/" target="_blank" rel="noopener"><code>CMD</code> vs <code>ENTERYPOINT</code></a></li>
</ul>
<hr>
<h2>Exercise 1 : Write a Dockerfile</h2>
<p>In this exercise we will create a new docker image locally from a Dockerfile as discussed in <a href="index.html">Module 2</a> overview. We will also make edits to the Dockerfile to customize the image to our preference.</p>
<h3>Step 1 : Clone Git Repository</h3>
<p>In the <code>/data</code> directory on your host, clone the following git repository:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Change the working directory to /data on the docker host</span></span><br><span class="line"><span class="built_in">cd</span> /data</span><br><span class="line"></span><br><span class="line"><span class="comment"># Clone a copy of the github project locally</span></span><br><span class="line">sudo git <span class="built_in">clone</span> https://github.com/Citrix-TechSpecialist/GoLang-cpx.git</span><br><span class="line"></span><br><span class="line"><span class="comment"># List the contents in the /data directory to see the GoLang-cpx project directory</span></span><br><span class="line">ls -l</span><br></pre></td></tr></table></figure>
<p>in the <code>/GoLang-cpx</code> directory there is a <code>Dockerfile</code>. Lets view the contents with the <code>cat</code> command.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># Change working directory into the GoLang-cpx project</span><br><span class="line">cd GoLang-cpx</span><br><span class="line"></span><br><span class="line"># View what all is in the GoLang-cpx directory</span><br><span class="line">ls -l</span><br><span class="line"></span><br><span class="line"># View the Dockerfile contents</span><br><span class="line">cat Dockerfile</span><br></pre></td></tr></table></figure>
<p>Once you <code>cat</code> the file, you will notice the following content in the <a href="http://localhost/docker-101-mod2/_code/docker-101/Dockerfile">Dockerfile</a>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">FROM fnichol/uhttpd</span><br><span class="line">MAINTAINER Mayank Tahilramani and Brian Tannous</span><br><span class="line">COPY ./cpx-blog /www</span><br><span class="line">EXPOSE 80</span><br><span class="line">ENTRYPOINT /usr/sbin/run_uhttpd -f -p 80 -h /www</span><br><span class="line">CMD [&quot;&quot;]</span><br></pre></td></tr></table></figure>
<p>The content above is pretty much the same we observed in the <a href="index.html">Module-2</a> overview. We will now build this container using the <a href="https://docs.docker.com/engine/reference/commandline/build/" target="_blank" rel="noopener"><code>docker build</code></a> command.</p>
<h3>Step 2 : Build Docker Image</h3>
<p>Type the following command to build your docker image:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker build -t cpx-blog .</span><br></pre></td></tr></table></figure>
<p>Here is the breakdown of the command above:</p>
<table>
<thead>
<tr>
<th>Command</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>docker build</code></td>
<td>This basically tells the docker engine to build an image.</td>
</tr>
<tr>
<td><code>-t</code></td>
<td>This gives the image a name and optionally a tag in the <code>name:tag</code> format.</td>
</tr>
<tr>
<td><code>cpx-blog</code></td>
<td>This will be the name of the created docker image.</td>
</tr>
<tr>
<td><code>.</code></td>
<td>tells docker engine to look for a file named <em>Dockerfile</em> (by default) in the current directory.</td>
</tr>
</tbody>
</table>
<blockquote>
<p>Optionally if you named your <code>Dockerfile</code> something different like <code>sandbox.dockerfile</code> you can append the <code>-f sandbox.dockerfile</code> flag after <code>build</code> statement.</p>
</blockquote>
<p>You will see the following output:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">Sending build context to Docker daemon  1.773MB</span><br><span class="line">Step 1/6 : FROM fnichol/uhttpd</span><br><span class="line">latest: Pulling from fnichol/uhttpd</span><br><span class="line">a3ed95caeb02: Pull complete</span><br><span class="line">1775fca35fb6: Pull complete</span><br><span class="line">718e21306e6b: Pull complete</span><br><span class="line">889bfeab2d4e: Pull complete</span><br><span class="line">8ac43f1732b7: Pull complete</span><br><span class="line">cefd08b5f834: Pull complete</span><br><span class="line">a32be2ed7953: Pull complete</span><br><span class="line">1c78be7a5ec7: Pull complete</span><br><span class="line">74984e6e6d1c: Pull complete</span><br><span class="line">Digest: sha256:28e6f95cf33ae1336525034e2b9d58ddf3cc63a2cdd9edebc8765321d96da9e0</span><br><span class="line">Status: Downloaded newer image <span class="keyword">for</span> fnichol/uhttpd:latest</span><br><span class="line"> ---&gt; df0db1779d4d</span><br><span class="line">Step 2/6 : MAINTAINER Mayank Tahilramani and Brian Tannous</span><br><span class="line"> ---&gt; Running <span class="keyword">in</span> 459db6d6a053</span><br><span class="line"> ---&gt; d51effaba5ae</span><br><span class="line">Removing intermediate container 459db6d6a053</span><br><span class="line">Step 3/6 : COPY ./cpx-blog /www</span><br><span class="line"> ---&gt; b1510a20020d</span><br><span class="line">Removing intermediate container b075c62a629b</span><br><span class="line">Step 4/6 : EXPOSE 80</span><br><span class="line"> ---&gt; Running <span class="keyword">in</span> 84f5263cb817</span><br><span class="line"> ---&gt; f1f4672c9d5b</span><br><span class="line">Removing intermediate container 84f5263cb817</span><br><span class="line">Step 5/6 : ENTRYPOINT /usr/sbin/run_uhttpd -f -p 80 -h /www</span><br><span class="line"> ---&gt; Running <span class="keyword">in</span> 8e2b276c3aa9</span><br><span class="line"> ---&gt; 552dfe1be7a7</span><br><span class="line">Removing intermediate container 8e2b276c3aa9</span><br><span class="line">Step 6/6 : CMD</span><br><span class="line"> ---&gt; Running <span class="keyword">in</span> 7c5da4990bea</span><br><span class="line"> ---&gt; 0c78968bbe81</span><br><span class="line">Removing intermediate container 7c5da4990bea</span><br><span class="line">Successfully built 0c78968bbe81</span><br><span class="line">Successfully tagged cpx-blog:latest</span><br></pre></td></tr></table></figure>
<p>You can also see the images on the local host with the following command:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker images</span><br></pre></td></tr></table></figure>
<p>…which shows:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE</span><br><span class="line">cpx-blog            latest              0c78968bbe81        46 seconds ago      5.66MB</span><br><span class="line">fnichol/uhttpd      latest              df0db1779d4d        3 years ago         4.87MB</span><br></pre></td></tr></table></figure>
<p>Docker pulled the base image <code>fnichol/uhttpd</code> from Docker Hub as well as created the layer on top with the changes we added defined in our Dockerfile to create the <code>cpx-blog</code> image. This concludes the creation of the image. Next we will create <em>ONE</em> more image that is an updated version of the <code>cpx-blog</code> image before we run our containers in <a href="http://localhost/Exercise-2">Exercise-2</a>.</p>
<h3>Step 3 : Tag a New Docker Image</h3>
<p>Lets make updates to our <code>Dockerfile</code> in <code>/data/GoLang-cpx</code>. Open the file up in <code>nano</code> with the following command. <code>nano</code> is nothing more than a simple text editor for CLI. It can be considered an equivalent to <a href="https://www.sublimetext.com/" target="_blank" rel="noopener">Sublime Text</a> or <a href="https://notepad-plus-plus.org/" target="_blank" rel="noopener">Notepad++</a>.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># In the /data/GoLang-cpx directory enter the following command:</span></span><br><span class="line">sudo nano Dockerfile</span><br></pre></td></tr></table></figure>
<p>Update the file with your cursor and keyboard to reflect the following:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">FROM fnichol/uhttpd</span><br><span class="line">MAINTAINER Mayank Tahilramani and Brian Tannous</span><br><span class="line">COPY ./cpx-blog /www</span><br><span class="line">WORKDIR /www</span><br><span class="line">RUN echo &quot;find /www -type f -exec sed -i \&quot;s/All rights reserved./Hosted by container: $&#123;HOSTNAME&#125;/g\&quot; &#123;&#125; \\;&quot; &gt; /tmp/update.sh &amp;&amp; chmod +x /tmp/update.sh</span><br><span class="line">EXPOSE 80</span><br><span class="line">ENTRYPOINT /tmp/update.sh &amp;&amp; /usr/sbin/run_uhttpd -f -p 80 -h /www</span><br><span class="line">CMD [&quot;&quot;]</span><br></pre></td></tr></table></figure>
<pre><code>&gt;To exit `nano` after you are done editing, enter the keys `ctrl` + `x` then `y` and `enter` to save and quit.
</code></pre>
<p>Here are the details on the updated command lines added above:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">WORKDIR /www</span><br></pre></td></tr></table></figure>
<p>This changes the working directory of the docker build engine when executing <code>RUN</code> commands in the next line. Note that you cannot simply change directories by a single <code>RUN</code> command for example <code>cd /www</code> because each time you execute a <code>RUN</code> command, docker spawns a new container and therefore the default working directory become <code>/</code>. See more context <a href="https://stackoverflow.com/questions/17891981/docker-run-cd-does-not-work-as-expected" target="_blank" rel="noopener">here</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">RUN echo &quot;find /www -type f -exec sed -i \&quot;s/All rights reserved./Hosted by container: $&#123;HOSTNAME&#125;/g\&quot; &#123;&#125; \\;&quot; &gt; /tmp/update.sh &amp;&amp; chmod +x /tmp/update.sh</span><br></pre></td></tr></table></figure>
<p>This command simply creates a script <code>/tmp/update.sh</code> which finds all files in the <code>/www</code> directory and replaces strings in them which match the pattern “<em>All rights reserved.</em>” with the string “<em>Hosted by container: ${HOSTNAME}</em>” where <code>${HOSTNAME}</code> is a built in environmental variable in the running container that holds the container’s unique host name. By default the hostname of any container is it’s short uuid. This script will essentially replace the footer of all web pages which state “All rights reserved” with which container is specifically hosting the website.</p>
<blockquote>
<p>Note that this command creates a script <code>/tmp/update.sh</code> but does not execute it. This command needs to be executed in a final running container state, not during an intermediate step when building the final image. Hence this script created here is executed in the <code>ENTRYPOINT</code> step below.</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ENTRYPOINT /tmp/update.sh &amp;&amp; /usr/sbin/run_uhttpd -f -p 80 -h /www</span><br></pre></td></tr></table></figure>
<p>This command dictates what to execute when the container starts. Note that the <a href="https://medium.com/@lherrera/life-and-death-of-a-container-146dfc62f808" target="_blank" rel="noopener">container’s lifespan</a> is directly dependent on the service it runs on start, in our case first the <code>/tmp/update.sh</code> script executes to update footers on all html pages, then the httpd (found at <code>/usr/sbin/run_uhttpd</code>) is executed. The entrypoint script basically starts the webservice hosting content in <code>/www</code>. If for whatever reason the uhttpd service itself fails, hangs, or stops, the running container will stop as well.</p>
<p>With the updated changes in our Dockerfile, we have introduced a new script into the container <code>/tmp/update.sh</code> which updated some HTML text on our website and is executed upon running the container as defined by our <code>ENTRYPOINT</code> statement.</p>
<p>Now lets build our new image:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># In the /data/GoLang-cpx directory enter the following command:</span></span><br><span class="line">docker build -t cpx-blog:v2 .</span><br></pre></td></tr></table></figure>
<p>View your images via the <code>docker images</code> command to see a new tagged version of the <code>cpx-blog</code> image was created.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">WORKDIR /www</span><br><span class="line">REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE</span><br><span class="line">cpx-blog            v2                  7f4074f9eecf        9 seconds ago       5.66MB</span><br><span class="line">cpx-blog            latest              0c78968bbe81        25 minutes ago      5.66MB</span><br><span class="line">fnichol/uhttpd      latest              df0db1779d4d        3 years ago         4.87MB</span><br></pre></td></tr></table></figure>
<h3>Review</h3>
<p>In <strong><em>Step 1</em></strong> and <strong><em>Step 2</em></strong> we created 2 docker images of the same CPX-blog website. The first image was created using a Dockerfile form the <a href="https://github.com/Citrix-TechSpecialist/GoLang-cpx/" target="_blank" rel="noopener">GoLang-cpx</a> repository. The second image was created from a custom Dockerfile which added a script to update the footer of the website with the container’s hostname. Below is a overview of the steps above.</p>
  <img src="docker-101-mod2/docker-build.gif" title="docker build">
<hr>
<h2>Exercise 2 : Run a Docker Container</h2>
<p>In this exercise we will create a two docker containers from two new images we created in the <a href="http://localhost/Exercise-1">previous exercise</a>. We will also create a third container that uses volume mounts to share persistent data with the docker host.</p>
<h3>Step 1 : <code>sudo docker run</code></h3>
<p>Lets run our first container based off the image we created from the <a href="https://github.com/Citrix-TechSpecialist/GoLang-cpx/" target="_blank" rel="noopener">GoLang-cpx</a> repository. Enter the following command to run your docker container:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -dt --name=cpx-blog-1 -p 10000:80 cpx-blog</span><br></pre></td></tr></table></figure>
<p>Here is the breakdown of the command:</p>
<table>
<thead>
<tr>
<th>Command</th>
<th></th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>docker run -dt</code></td>
<td></td>
<td>This will run the container detached with a terminal in the background. Later we will see how we can attach to this container’s CLI, but for now we will have the container running detached in the background as a daemon.</td>
</tr>
<tr>
<td><code>--name=cpx-blog-1</code></td>
<td></td>
<td>This gives the container a name for more intuitive reference in later docker commands. Without a name parameter, the container will be randomly assigned a name and can be referenced to via the random name or the hash id of the container.</td>
</tr>
<tr>
<td><code>-p 10000:80</code></td>
<td></td>
<td>This will expose port <code>10000</code> on the host and map it to port <code>80</code> on the container for access to the hosted website.</td>
</tr>
<tr>
<td><code>cpx-blog</code></td>
<td></td>
<td>This identifies the image we want to use by the docker engine to base our container off of. It will not bother pulling from Dockerhub because the image is already stored locally given you have completed <a href="http://localhost/Exercise-1">exercise 1</a>.</td>
</tr>
</tbody>
</table>
<p>You should receive an output of a long UID as a reference to the running container similar to <code>ed2348b56eda197a90313c8876ab4e6601b52406ba1c6740ccccd6e996565f60</code></p>
<p>You can view the running container by entering in the <code>docker ps</code> command:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">CONTAINER ID        IMAGE               COMMAND                  CREATED              STATUS              PORTS                   NAMES</span><br><span class="line">ed2348b56eda        cpx-blog            &quot;/bin/sh -c &apos;/usr/...&quot;   About a minute ago   Up About a minute   0.0.0.0:10000-&gt;80/tcp   cpx-blog-1</span><br></pre></td></tr></table></figure>
<p>Now lets view the website hosted by our docker container. If you are following along on your local machine, go to url <a href="http://localhost:10000" target="_blank" rel="noopener">http://localhost:10000</a>.</p>
<p>On the website, scroll down to the very bottom to notice the footer of this page stating: <code>2016. All rights reserved.</code> Make a note of this, because we are now going to run our new container that will have updated footer information.</p>
  <img src="docker-101-mod2/cpx-blog-1-footer.png" title="cpx-blog-1 site" alt="s footer">
<p>Lastly, lets remove this container so we can recycle the host port <code>10000</code> for our new container.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker rm -f cpx-blog-1</span><br></pre></td></tr></table></figure>
<h3>Step 2 : Run an Updated Container</h3>
<p>Lets run our second container based off the image we created from the modified version of the Dockerfile in the <a href="https://github.com/Citrix-TechSpecialist/GoLang-cpx/" target="_blank" rel="noopener">GoLang-cpx</a> repository. Enter the following command to run your docker container:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -dt --name=cpx-blog-2 -p 10000:80 cpx-blog:v2</span><br></pre></td></tr></table></figure>
<p>You can view the running container by entering in the <code>docker ps</code> command:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">CONTAINER ID        IMAGE               COMMAND                  CREATED              STATUS              PORTS                   NAMES</span><br><span class="line">6e115d1c21f5        cpx-blog:v2            &quot;/bin/sh -c &apos;/usr/...&quot;   About a minute ago   Up About a minute   0.0.0.0:10000-&gt;80/tcp   cpx-blog-2</span><br></pre></td></tr></table></figure>
<p>Now lets view the updated website hosted by our new docker container. If you are following along on your local machine, go to url <a href="http://localhost:10000" target="_blank" rel="noopener">http://localhost:10000</a>.</p>
<p>If you are following along in the sandbox environment, navigate your local browser to <a href="http://userX-lb.sl.americasreadiness.com" target="_blank" rel="noopener">http://userX-lb.sl.americasreadiness.com</a> where <code>X</code> denotes your user number in the FQDN.</p>
<p>On the website, scroll down to the very bottom and notice the footer of this page stating: <em>2016. Hosted by container: <strong>11ad31695df3</strong>.</em> The container hostname is showing up because of the <code>/tmp/update.sh</code> script that was executed when the container was run to update all <code>.html</code> footer code as defined in our new Dockerfile.</p>
  <img src="docker-101-mod2/cpx-blog-2-footer.png" title="cpx-blog-2 site" alt="s footer">
<p>Lastly, lets remove this container so we can recycle the host port <code>10000</code> for our new container.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker rm -f cpx-blog-2</span><br></pre></td></tr></table></figure>
<h3>Step 3 : Persistent Volume Mounts</h3>
<p>Thus far we have seen the docker container host the website with the <code>.html</code> data local to it’s file system. Ideally, you would not want to store any persistent data on the container itself, rather you should store in on some network or hyperconverged storage solution that the container can access as if local instead. This allow you to de-coupling storage of persistent data in the container from the compute processing done by the container itself and allows you to be more agile, spreads your failure domain, and scale independently in storage and compute capacity.</p>
<p>In this In this step, we will run the same container as in <strong>step 1</strong>, but with a volume mount that shares a directory with the docker host mounted in the container to share persistent data. Enter the following command to run a docker container with a <a href="https://docs.docker.com/engine/reference/run/#volume-shared-filesystems" target="_blank" rel="noopener">volume mount</a>.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -dt --name=cpx-blog-3 -p 10000:80 -v /data/GoLang-cpx/cpx-blog:/www:rw cpx-blog</span><br></pre></td></tr></table></figure>
<p>Here is the breakdown of the new volume mount <code>-v</code> flag in the <code>docker run</code> command:</p>
<table>
<thead>
<tr>
<th>Command</th>
<th></th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-v /data/GoLang-cpx/cpx-blog:/www:rw</code></td>
<td></td>
<td>The <code>-v</code> flag denotes that this container will have a volume mount that is located on the local host at <code>/data/GoLang-cpx/cpx-blog</code> and that directory will be mapped to the <code>/www</code> directory that is local to the container. The container will have <em>read/write</em> permissions to this directory as denoted by the <code>:rw</code> at the end.</td>
</tr>
</tbody>
</table>
<ul>
<li>
<p>This flag allows us to remove the <code>COPY ./cpx-blog /www</code> command form our Dockerfile if desired to. However the pre-requisite of this container would become that a volume mount be provided at run time to host whatever content is in the mounted <code>/www</code> directory local to the container…</p>
</li>
<li>
<p>Adding volume mounts of persistent data to containers saves space as well, because now the data isn’t replicated in each container, rather multiple containers can instead reference the same volume mount on a NFS network share, for example, mounted on the local docker host.</p>
</li>
<li>
<p>Other services can also independently manipulate data in the volume mount directory on the host that have read-write access and it can be reflected in the running cpx-blog containers for example.</p>
</li>
</ul>
<p>Once you have your container running, lets view the site hosted by our new docker container. If you are following along on your local machine, go to url <a href="http://localhost:10000" target="_blank" rel="noopener">http://localhost:10000</a>.</p>
<p>You will notice that the site looks identical to it did in <strong>Step 1</strong>. Lets change some content to the title page to prove a point.</p>
<p>Enter the following command to edit text in the <code>index.html</code> of the home page of the blog:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nano /data/GoLang-cpx/cpx-blog/index.html</span><br></pre></td></tr></table></figure>
<p>Scroll down into the file where you see the line:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;h1 class=&quot;brand-title&quot;&gt;NetScaler NITRO Blogs&lt;/h1&gt;</span><br></pre></td></tr></table></figure>
<p>update that line to look like :</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;h1 class=&quot;brand-title&quot;&gt;LEARN DOCKER!&lt;/h1&gt;</span><br></pre></td></tr></table></figure>
<p>Save and quit <code>nano</code> by entering the keys <code>ctrl</code> + <code>x</code> then <code>y</code> and <code>enter</code>.</p>
<p>Now refresh your browser to the blog to view the updates changes. You should see a new title in the home page reflecting your changes to the <code>index.html</code></p>
<p>Lastly, lets remove this container so we can recycle the host port <code>10000</code> for subsequent Modules.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker rm -f cpx-blog-3</span><br></pre></td></tr></table></figure>
<h3>Review</h3>
<p>In this module, we ran a container hosting our website using a Dockerfile in the <a href="https://github.com/Citrix-TechSpecialist/GoLang-cpx/" target="_blank" rel="noopener">GoLang-cpx</a> repository. We also ran a container that has a script that ran at runtime to dynamically update the footer on each webpage to display the container’s hostname. Lastly, we deployed a third container that hosted the webpage through a volume mount where the data of the website only resided on the host and we showed that the data could be independently manipulated to reflect updates on our container hosted website.</p>
<p>Here is an overview of the previous 3 steps.</p>
  <img src="docker-101-mod2/docker-run-new.gif" title="docker run 3 containers">

          
        </div>
        <footer class="article-footer">
          
          
            
	<section id="comments" class="comment">
	  <div id="disqus_thread">
	  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
	  </div>
	</section>

	<script type="text/javascript">
	var disqus_shortname = 'blog-tahil-site';
	(function(){
	  var dsq = document.createElement('script');
	  dsq.type = 'text/javascript';
	  dsq.async = true;
	  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
	  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	}());
	(function(){
	  var dsq = document.createElement('script');
	  dsq.type = 'text/javascript';
	  dsq.async = true;
	  dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
	  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	}());
	</script>



          
          
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="tags/docker/index.html">docker</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="tags/docker-101/index.html">docker 101</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="tags/docker-images/index.html">docker images</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="tags/docker-cli/index.html">docker-cli</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="tags/dockerfile/index.html">dockerfile</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="tags/storage/index.html">storage</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="tags/volume-mount/index.html">volume mount</a></li></ul>

        </footer>
      </div>
      
        
<nav id="article-nav">
  
    <a href="docker-101-mod1.html" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Introduction to Docker Images and Containers
        
      </div>
    </a>
  
  
    <a href="docker-101-mod3.html" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Introduction to Docker Compose</div>
    </a>
  
</nav>

      
    </article>  
  
    <!-- async load function -->
    <script>
        function async(u, c) {
          var d = document, t = 'script',
              o = d.createElement(t),
              s = d.getElementsByTagName(t)[0];
          o.src = u;
          if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
          s.parentNode.insertBefore(o, s);
        }
    </script>
    
    <!-- anchor-js, Doc:http://bryanbraun.github.io/anchorjs/ -->
    <script>
        async("https://cdn.bootcss.com/anchor-js/1.1.1/anchor.min.js",function(){
            anchors.options = {
              visible: 'hover',
              placement: 'left',
              icon: '#'
            };
            anchors.add().remove('.intro-header h1').remove('.subheading').remove('.sidebar-container h5');
        })
    </script>
    <style>
        /* place left on bigger screen */
        @media all and (min-width: 800px) {
            .anchorjs-link{
                position: absolute;
                left: -0.75em;
                font-size: 1.1em;
                margin-top : -0.1em;
            }
        }
    </style>
  

  <!-- Table of Contents -->
  <div id="column2" style="float:right; margin:0; width:20%;">
    
      <aside id="toc-sidebar">
        <div id="toc" class="toc-article">
        <strong class="toc-title">Contents</strong>
        
            <ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="docker-101-mod2.html#undefined"><span class="nav-text">Module 2: Create an Image via Dockerfiles</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="docker-101-mod2.html#undefined"><span class="nav-text">Dockerfiles</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="docker-101-mod2.html#undefined"><span class="nav-text">Exercise 1 : Write a Dockerfile</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="docker-101-mod2.html#undefined"><span class="nav-text">Step 1 : Clone Git Repository</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="docker-101-mod2.html#undefined"><span class="nav-text">Step 2 : Build Docker Image</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="docker-101-mod2.html#undefined"><span class="nav-text">Step 3 : Tag a New Docker Image</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="docker-101-mod2.html#undefined"><span class="nav-text">Review</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="docker-101-mod2.html#undefined"><span class="nav-text">Exercise 2 : Run a Docker Container</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="docker-101-mod2.html#undefined"><span class="nav-text">Step 1 : <code>sudo docker run</code></span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="docker-101-mod2.html#undefined"><span class="nav-text">Step 2 : Run an Updated Container</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="docker-101-mod2.html#undefined"><span class="nav-text">Step 3 : Persistent Volume Mounts</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="docker-101-mod2.html#undefined"><span class="nav-text">Review</span></a></li></ol></li></ol></li></ol>
        
        </div>
      </aside>
    
  </div>


</section>
        
      </div>
      
      <footer id="footer">
  

      <div class='container'>
        <div class='clearfix widget-social-icons'>
        All content provided on this blog is for informational purposes only. The owner takes no liability for any content posted on this or associated domains. Read more <a href="about.html">here</a>.

        This site was generated by <a href="https://hexo.io/">Hexo</a> using the theme <a href="https://github.com/iTimeTraveler/hexo-theme-hiker">Hiker</a>. This site's source code resides in <a href="https://github.com/MayankTahil/blog.tahil.site">GitHub</a>. To contribute or report issues, please issue a <a href="https://github.com/MayankTahil/blog.tahil.site/pulls">pull request</a> or <a href="https://github.com/MayankTahil/blog.tahil.site/issues">raise an issue</a> accordingly. 
        </div>
        <a href="http://mayank.tahil.site" title="About Mayank"><i class="fa fa-home" aria-hidden="true"></i></a>
        
            
              <a href="https://github.com/mayanktahil" title="Github"><i class="fa fa-github" aria-hidden="true"></i></a>
            
        
            
              <a href="https://www.linkedin.com/in/mayanktahil/" title="LinkedIn"><i class="fa fa-linkedin" aria-hidden="true"></i></a>
            
        
            
              <a href="https://twitter.com/mayanktahil" title="Twitter"><i class="fa fa-twitter" aria-hidden="true"></i></a>
            
        
            
              <a href="https://www.instagram.com/mayanktahil/" title="Instagram"><i class="fa fa-instagram" aria-hidden="true"></i></a>
            
        
            
              <a href="mailto:mayank.tahil-AT-gmail-DOT-com?subject=Blog-Question" title="email"><i class="fa fa-envelope" aria-hidden="true"></i></a>
            
        
      </div>
      <!--
      <ul class="clearfix widget-social-icons">
      <li class="widget-si-twitter"><a href="http://twitter.com" title="Twitter"><i class="ico-twitter"></i></a></li>
    <li class="widget-si-facebook"><a href="http://facebook.com" title="Facebook"><i class="ico-facebook"></i></a></li>
      <li class="widget-si-gplus"><a href="http://plus.google.com" title="Google+"><i class="ico-gplus"></i></a></li>
      <li class="widget-si-pinterest"><a href="http://pinterest.com" title="Pinterest"><i class="ico-pinterest"></i></a></li>
      <li class="widget-si-flickr"><a href="http://flickr.com" title="Flickr"><i class="ico-flickr"></i></a></li>
      <li class="widget-si-instagram"><a href="http://instagram.com" title="Instagram"><i class="ico-instagram"></i></a></li>
    </ul> -->

</footer>


<!-- min height -->

<script>
    var wrapdiv = document.getElementById("wrap");
    var contentdiv = document.getElementById("content");
    var allheader = document.getElementById("allheader");

    wrapdiv.style.minHeight = document.body.offsetHeight + "px";
    if (allheader != null) {
      contentdiv.style.minHeight = document.body.offsetHeight - allheader.offsetHeight - document.getElementById("footer").offsetHeight + "px";
    } else {
      contentdiv.style.minHeight = document.body.offsetHeight - document.getElementById("footer").offsetHeight + "px";
    }
</script>
    </div>
    <!-- <nav id="mobile-nav">
  
    <a href="../index.html" class="mobile-nav-link">Home</a>
  
    <a href="../archives" class="mobile-nav-link">Archives</a>
  
    <a href="../categories/tutorials" class="mobile-nav-link">Categories</a>
  
    <a href="../about" class="mobile-nav-link">About</a>
  
</nav> -->
    

<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  <link rel="stylesheet" href="fancybox/jquery.fancybox.css">
  <script src="fancybox/jquery.fancybox.pack.js"></script>


<script src="js/scripts.js"></script>




  <script src="js/dialog.js"></script>



<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-108403055-3', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->












  </div>

  <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title" id="myModalLabel">View Settings</h2>
      </div>
      <hr style="margin-top:0px; margin-bottom:0px; width:80%; border-top: 3px solid #000;">
      <hr style="margin-top:2px; margin-bottom:0px; width:80%; border-top: 1px solid #000;">


      <div class="modal-body">
          <div style="margin:6px;">
            <a data-toggle="collapse" data-parent="#accordion" href="docker-101-mod2.html#collapseOne" onclick="javascript:setFontSize();" aria-expanded="true" aria-controls="collapseOne">
              Text Size
            </a>
          </div>
          <div id="collapseOne" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
          <div class="panel-body">
            Increased page font size.
          </div>
        </div>
      
          <div style="margin:6px;">
            <a data-toggle="collapse" data-parent="#accordion" href="docker-101-mod2.html#collapseTwo" onclick="javascript:setBackground();" aria-expanded="true" aria-controls="collapseTwo">
              Night view.
            </a>
        </div>
          <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
          <div class="panel-body">
            Night view enabled.
          </div>
        </div>

        <div>
            <a data-toggle="collapse" data-parent="#accordion" href="docker-101-mod2.html#collapseThree" aria-expanded="true" aria-controls="collapseThree">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;About.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a>
        </div>
         <div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
          <div class="panel-body">
            Tech Blog
          </div>
          <div class="panel-body">
            15-12-2017 Mayank Tahilramani's Private blog.
          </div>
        </div>
      </div>

      <hr style="margin-top:0px; margin-bottom:0px; width:80%; border-top: 1px solid #000;">
      <hr style="margin-top:2px; margin-bottom:0px; width:80%; border-top: 3px solid #000;">
      <div class="modal-footer">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
      </div>
    </div>
  </div>
</div>
  
  <a id="rocket" href="docker-101-mod2.html#top" class=""></a>
  <script type="text/javascript" src="js/totop.js@v=1.0.0" async=""></script>
  
    <a id="menu-switch"><i class="fa fa-bars fa-lg"></i></a>
  
</body>
</html>